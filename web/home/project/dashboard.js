function TaskCategory(a){var t=this;t.id=a.id,t.name=a.name;var s=$('<div class="taskList J-taskList" data-id="'+t.id+'">\n		<h4>'+t.name+"</h4>	</div>");return $.extend(t,s)}function Task(){}TaskCategory.prototype.taskList=function(){var a=this;return{addTask:function(t){a.append(t)}}},TaskCategory.prototype.showTasks=function(){var a=this;App.ajax({url:"/project/"+App.aParams.projectId+"/tasks.json",success:function(t){for(var s in t.data){var r=new Task(t.data[s]);console.log(a.taskList),a.taskList.addTask(r)}}})};var categoryList={};$(function(){App.loadParam("project/<projectId:\\d+>.htm"),App.ajax({url:"/project/"+App.aParams.projectId+".json",success:function(a){$("#projectName").text(a.data.name)}}),App.ajax({url:"/project/"+App.aParams.projectId+"/task-categorys.json",success:function(a){if(a.code)return void App.alert(a.message,a.code,a.data);var t=$("#taskCategorys");for(var s in a.data){var r=new TaskCategory(a.data[s]);t.append(r),categoryList[r.id]=r,r.showTasks()}}})});