define(["app","format-validator"],function(t,a){function e(){$("#mainOut").html('<div id="wrapProjectHead" class="row wrapProjectName">			<label id="projectName"></label>			<button type="button" class="btn btn-success J-btnAddMember">+成员</button>		</div>		<div id="taskCategorys" class="row taskCategorys"></div>')}function r(){var e=$("#wrapProjectHead"),r=e.find(".J-btnAddMember");e.hover(function(){r.show()},function(){r.hide()}),r.click(function(){var e=prompt("请输入他的UID，小x会发个加入邀请给他");if(e)return a.isInteger(e)?void t.ajax({url:"/project/invite-member.do",data:{projectId:t.aParams.projectId,inviteWorkerId:e.trim()},success:function(a){t.alert(a.message)}}):void t.alert("UID是一个数字 (⊙ｏ⊙) 麻烦叫他进个人信息里看看")})}function o(){t.ajax({url:"/project/"+t.aParams.projectId+".json",success:function(t){$("#projectName").text(t.data.name)}})}function n(){t.ajax({url:"/project/"+t.aParams.projectId+"/task-categorys.json",success:function(t){require(["task-category"],function(a){var e=$("#taskCategorys"),r=[];for(var o in t.data){var n=a.build(t.data[o]);r.push(n),n.refreshTasks()}e.append(r),a.aTaskCategorys=r})}})}return{dict:{},render:function(){t.loadParam("project/<projectId:\\d+>.htm"),e(),r(),o(),n()}}});